include ../mixins/render-page-tree
include ../mixins/icon

- var basePage
- var navClasses = [ config.ui && config.ui.dark ? 'br-prototype-nav--dark' : null , basePage && basePage.states ? 'br-prototype-nav--has-states' : null]

#__prototype-nav.br-prototype-nav(class=navClasses.join(" "))
    .br-prototype-nav-inner
        h3.br-prototype-nav-main-heading(data-tooltip="Press Ctrl + M to toggle this navigation.")
            | Prototype navigation
            +icon('info', 'br-prototype-nav-main-heading-icon')
        +renderPageTree

    if basePage && basePage.states
        .br-prototype-page-states
            h3.br-prototype-nav-main-heading Page states
            ul.br-bordered-list
                li: a(href=basePage.href) #{basePage.name}
                each state in basePage.states
                    li: a(href=state.href) #{state.name}
